# BattleMap v2 - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞

## üìã –û–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞

BattleMap v2 - –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –∫–∞—Ä—Ç–∞ –º–∏—Ä–∞, –≥–¥–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Ä–∞–∑–º–µ—â–∞—é—Ç —Ü–≤–µ—Ç–Ω—ã–µ –ø–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–µ –ø–∏–∫—Å–µ–ª–∏ (10–∫–º √ó 10–∫–º) –∏ "–∑–∞—Ö–≤–∞—Ç—ã–≤–∞—é—Ç" —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∏ —Ä–∞–∑–Ω—ã–º–∏ —Ü–≤–µ—Ç–∞–º–∏. –ü—Ä–æ–µ–∫—Ç —ç–≤–æ–ª—é—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–ª –æ—Ç —Å–∏—Å—Ç–µ–º—ã "—Ç—É–º–∞–Ω–∞ –≤–æ–π–Ω—ã" –∫ —Å–∏—Å—Ç–µ–º–µ —Ü–≤–µ—Ç–Ω—ã—Ö –ø–∏–∫—Å–µ–ª–µ–π, —Å–æ–∑–¥–∞–≤–∞—è –∫–æ–ª–ª–∞–±–æ—Ä–∞—Ç–∏–≤–Ω—É—é –ø–∏–∫—Å–µ–ª—å–Ω—É—é –∫–∞—Ä—Ç—É –º–∏—Ä–∞.

**–¢–µ–∫—É—â–∞—è –≤–µ—Ä—Å–∏—è: v0.2.4** (–î–µ–∫–∞–±—Ä—å 2024)

## üé® –û—Å–Ω–æ–≤–Ω–∞—è –∫–æ–Ω—Ü–µ–ø—Ü–∏—è

### –°–∏—Å—Ç–µ–º–∞ —Ü–≤–µ—Ç–Ω—ã—Ö –ø–∏–∫—Å–µ–ª–µ–π
- 10 –±–∞–∑–æ–≤—ã—Ö —Ü–≤–µ—Ç–æ–≤ –¥–ª—è —Ä–∏—Å–æ–≤–∞–Ω–∏—è –Ω–∞ –∫–∞—Ä—Ç–µ
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º–∞—è –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å (20-90%)
- –ü–∏–∫—Å–µ–ª–∏ –ø—Ä–∏–≤—è–∑–∞–Ω—ã –∫ –≥–µ–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–º –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞—Ö–≤–∞—Ç–∞ —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–π –ø–æ —Å—Ç—Ä–∞–Ω–∞–º
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –º–µ–∂–¥—É –≤—Å–µ–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –§—Ä–æ–Ω—Ç–µ–Ω–¥
- **Leaflet.js** - –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –∫–∞—Ä—Ç–∞ —Å OpenStreetMap
- **GridLayer** - –∫–∞—Å—Ç–æ–º–Ω—ã–π —Å–ª–æ–π –¥–ª—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –ø–∏–∫—Å–µ–ª–µ–π
- **Canvas API** - –æ—Ç—Ä–∏—Å–æ–≤–∫–∞ –ø–∏–∫—Å–µ–ª–µ–π –Ω–∞ —Ç–∞–π–ª–∞—Ö (256√ó256px)
- **–ë–∞—Ç—á–∏–Ω–≥** - –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤ –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### –ë—ç–∫–µ–Ω–¥ (Vercel Functions)
- `/api/pixels-batch-geo` - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–∏–∫—Å–µ–ª–µ–π —Å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ–º —Å—Ç—Ä–∞–Ω—ã
- `/api/pixels-state` - –ø–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –ø–∏–∫—Å–µ–ª–µ–π –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
- `/api/geocode` - —Ç–æ—á–Ω–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å—Ç—Ä–∞–Ω—ã —á–µ—Ä–µ–∑ Nominatim OSM
- `/api/reveal-batch` - legacy API –æ—Ç —Å–∏—Å—Ç–µ–º—ã —Ç—É–º–∞–Ω–∞

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- **Upstash Redis** - —Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–∏–∫—Å–µ–ª–µ–π –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
- –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö:
  ```
  pixels:map - —Ö—ç—à –≤—Å–µ—Ö –ø–∏–∫—Å–µ–ª–µ–π {position: {color, opacity, playerId, country}}
  pixels:country:color - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —Å—Ç—Ä–∞–Ω–∞–º –∏ —Ü–≤–µ—Ç–∞–º
  pixels:country:total - –æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–∏–∫—Å–µ–ª–µ–π –ø–æ —Å—Ç—Ä–∞–Ω–∞–º
  pixels:colors:count - —Å—á–µ—Ç—á–∏–∫–∏ –ø–æ —Ü–≤–µ—Ç–∞–º
  pixels:timeline - –∏—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π (24—á)
  pixels:total - –æ–±—â–∏–π —Å—á–µ—Ç—á–∏–∫ –ø–∏–∫—Å–µ–ª–µ–π
  ```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
BattleMap v2/
‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îú‚îÄ‚îÄ pixels-batch-geo.js    # –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–∏–∫—Å–µ–ª–µ–π —Å –≥–µ–æ–ª–æ–∫–∞—Ü–∏–µ–π
‚îÇ   ‚îú‚îÄ‚îÄ pixels-state.js        # –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ geocode.js             # –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å—Ç—Ä–∞–Ω—ã (Nominatim)
‚îÇ   ‚îî‚îÄ‚îÄ reveal-batch*.js       # Legacy API (—Ç—É–º–∞–Ω –≤–æ–π–Ω—ã)
‚îÇ
‚îú‚îÄ‚îÄ public/
‚îÇ   ‚îú‚îÄ‚îÄ js/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ battlemap-pixels.js     # –ê–ö–¢–ò–í–ù–ê–Ø –≤–µ—Ä—Å–∏—è —Å –ø–∏–∫—Å–µ–ª—è–º–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ battlemap-optimized.js  # Legacy –≤–µ—Ä—Å–∏—è —Å —Ç—É–º–∞–Ω–æ–º
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ battlemap-*.js          # –î—Ä—É–≥–∏–µ legacy –≤–µ—Ä—Å–∏–∏
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ css/
‚îÇ       ‚îú‚îÄ‚îÄ main.css           # –û—Å–Ω–æ–≤–Ω—ã–µ —Å—Ç–∏–ª–∏
‚îÇ       ‚îî‚îÄ‚îÄ main-mobile.css    # –ú–æ–±–∏–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏
‚îÇ
‚îú‚îÄ‚îÄ index.html                 # –ò—Å–ø–æ–ª—å–∑—É–µ—Ç battlemap-pixels.js
‚îú‚îÄ‚îÄ vercel.json               # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Vercel
‚îú‚îÄ‚îÄ package.json              # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îî‚îÄ‚îÄ CLAUDE.md                 # –≠—Ç–æ—Ç —Ñ–∞–π–ª
```

## üéÆ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

### –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- **–ü–∞–ª–∏—Ç—Ä–∞ —Ü–≤–µ—Ç–æ–≤** - 10 —Ü–≤–µ—Ç–æ–≤ –≤–Ω–∏–∑—É —ç–∫—Ä–∞–Ω–∞
- **–°–ª–∞–π–¥–µ—Ä –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç–∏** - 20-90% opacity
- **–ë–æ–∫–æ–≤–æ–µ –º–µ–Ω—é** - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏, —Ç–µ–º—ã, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- **–¢–æ–ø —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–π** - –∑–∞—Ö–≤–∞—Ç —Å—Ç—Ä–∞–Ω –ø–æ —Ü–≤–µ—Ç–∞–º

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
#### –î–µ—Å–∫—Ç–æ–ø
- **–ö–ª–∏–∫** - –ø–æ—Å—Ç–∞–≤–∏—Ç—å –ø–∏–∫—Å–µ–ª—å –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ —Ü–≤–µ—Ç–∞
- **–ù–∞–≤–µ–¥–µ–Ω–∏–µ** - –ø—Ä–µ–≤—å—é –ø–∏–∫—Å–µ–ª—è
- **Drag** - –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –∫–∞—Ä—Ç—ã
- **–ö–æ–ª–µ—Å–æ** - –∑—É–º

#### –ú–æ–±–∏–ª—å–Ω—ã–µ
- **–¢–∞–ø** - –ø–æ—Å—Ç–∞–≤–∏—Ç—å –ø–∏–∫—Å–µ–ª—å
- **–°–≤–∞–π–ø** - –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –∫–∞—Ä—Ç—ã
- **–©–∏–ø–æ–∫** - –∑—É–º

## üîç –°–∏—Å—Ç–µ–º–∞ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è

### –£–º–Ω–∞—è –≤–∏–¥–∏–º–æ—Å—Ç—å –ø–æ –ø–ª–æ—Ç–Ω–æ—Å—Ç–∏
- **Zoom 2**: –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–±–ª–∞—Å—Ç–∏ —Å 25+ –ø–∏–∫—Å–µ–ª—è–º–∏ (–∫—Ä—É–≥–∏)
- **Zoom 3**: –º–∏–Ω–∏–º—É–º 15 –ø–∏–∫—Å–µ–ª–µ–π (–∫—Ä—É–≥–∏)
- **Zoom 4-5**: –º–∏–Ω–∏–º—É–º 3-8 –ø–∏–∫—Å–µ–ª–µ–π (–∫–≤–∞–¥—Ä–∞—Ç—ã)
- **Zoom 6-7**: –º–∞–ª–µ–Ω—å–∫–∏–µ –∫–≤–∞–¥—Ä–∞—Ç—ã (8px)
- **Zoom 8-9**: –ø–æ–ª–Ω–æ—Ä–∞–∑–º–µ—Ä–Ω—ã–µ –ø–∏–∫—Å–µ–ª–∏
- **Zoom 10+**: –ø–∏–∫—Å–µ–ª–∏ —Å –≥—Ä–∞–Ω–∏—Ü–∞–º–∏ –¥–ª—è —á–µ—Ç–∫–æ—Å—Ç–∏

### –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥
- –†–∞–∑–º–µ—Ä –∏ –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å –∑–∞–≤–∏—Å—è—Ç –æ—Ç –ø–ª–æ—Ç–Ω–æ—Å—Ç–∏ –ø–∏–∫—Å–µ–ª–µ–π
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –¥–æ–º–∏–Ω–∏—Ä—É—é—â–∏–π —Ü–≤–µ—Ç –æ–±–ª–∞—Å—Ç–∏ –ø—Ä–∏ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–µ
- –û–¥–∏–Ω–æ—á–Ω—ã–µ –ø–∏–∫—Å–µ–ª–∏ –Ω–µ –≤–∏–¥–Ω—ã –Ω–∞ –¥–∞–ª—å–Ω–∏—Ö –∑—É–º–∞—Ö

## üé® –¶–≤–µ—Ç–æ–≤–∞—è –ø–∞–ª–∏—Ç—Ä–∞

```javascript
1. –ö—Ä–∞—Å–Ω—ã–π (#FF0000)
2. –°–∏–Ω–∏–π (#0000FF)
3. –ó–µ–ª–µ–Ω—ã–π (#00FF00)
4. –ñ–µ–ª—Ç—ã–π (#FFFF00)
5. –û—Ä–∞–Ω–∂–µ–≤—ã–π (#FFA500)
6. –§–∏–æ–ª–µ—Ç–æ–≤—ã–π (#800080)
7. –†–æ–∑–æ–≤—ã–π (#FFC0CB)
8. –ì–æ–ª—É–±–æ–π (#00FFFF)
9. –ß–µ—Ä–Ω—ã–π (#000000)
10. –ë–µ–ª—ã–π (#FFFFFF)
```

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –º–µ—Ç—Ä–∏–∫–∏

### –ü–æ–∫–∞–∑–∞—Ç–µ–ª–∏
- –¢–æ–ø —Ü–≤–µ—Ç–æ–≤ –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –ø–∏–∫—Å–µ–ª–µ–π
- –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Ü–≤–µ—Ç–∞ - —Ç–æ–ø 5 –∑–∞—Ö–≤–∞—á–µ–Ω–Ω—ã—Ö —Å—Ç—Ä–∞–Ω
- –ü—Ä–æ—Ü–µ–Ω—Ç –∑–∞—Ö–≤–∞—Ç–∞ —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∏ —Å—Ç—Ä–∞–Ω—ã –∫–∞–∂–¥—ã–º —Ü–≤–µ—Ç–æ–º
- –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–∏–∫—Å–µ–ª–µ–π
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–Ω–ª–∞–π–Ω –∏–≥—Ä–æ–∫–æ–≤ (–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∑–∞ 5 –º–∏–Ω)

### –ü—Ä–∏–º–µ—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
```
üî¥ –ö—Ä–∞—Å–Ω—ã–π: 1500 –ø–∏–∫—Å–µ–ª–µ–π
   üá∑üá∫ –†–æ—Å—Å–∏—è (45%), üáµüá± –ü–æ–ª—å—à–∞ (30%), üá©üá™ –ì–µ—Ä–º–∞–Ω–∏—è (15%)
   
üîµ –°–∏–Ω–∏–π: 1200 –ø–∏–∫—Å–µ–ª–µ–π
   üá´üá∑ –§—Ä–∞–Ω—Ü–∏—è (60%), üá™üá∏ –ò—Å–ø–∞–Ω–∏—è (25%), üáÆüáπ –ò—Ç–∞–ª–∏—è (10%)
```

## ‚ö° –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### –†–µ–Ω–¥–µ—Ä–∏–Ω–≥
- –¢–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ (256√ó256px —Ç–∞–π–ª—ã)
- –¢–æ–ª—å–∫–æ –≤–∏–¥–∏–º–∞—è –æ–±–ª–∞—Å—Ç—å —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è
- RequestAnimationFrame –¥–ª—è –ø–ª–∞–≤–Ω–æ—Å—Ç–∏
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç—Ä–µ–Ω–¥–µ—Ä–µ–Ω–Ω—ã—Ö —Ç–∞–π–ª–æ–≤

### –°–µ—Ç–µ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã
- –ë–∞—Ç—á–∏–Ω–≥ –¥–æ 50 –ø–∏–∫—Å–µ–ª–µ–π –∑–∞ –∑–∞–ø—Ä–æ—Å
- –ó–∞–¥–µ—Ä–∂–∫–∞ –±–∞—Ç—á–∏–Ω–≥–∞ 1 —Å–µ–∫—É–Ω–¥–∞
- Rate limiting: 100 –∑–∞–ø—Ä–æ—Å–æ–≤/–º–∏–Ω—É—Ç–∞
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥

### –•—Ä–∞–Ω–∏–ª–∏—â–µ
- Redis –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –≥–µ–æ–∫–æ–¥–∏–Ω–≥–∞ (30 –¥–Ω–µ–π)
- –õ–æ–∫–∞–ª—å–Ω–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ localStorage
- Timeline —Ö—Ä–∞–Ω–∏—Ç—Å—è 24 —á–∞—Å–∞

## üêõ –†–µ—à–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### v0.2.4: UI –Ω–µ –∫–ª–∏–∫–∞–ª—Å—è
**–ü—Ä–æ–±–ª–µ–º–∞**: –ü–∞–ª–∏—Ç—Ä–∞ —Ü–≤–µ—Ç–æ–≤ –Ω–µ —Ä–µ–∞–≥–∏—Ä–æ–≤–∞–ª–∞ –Ω–∞ –∫–ª–∏–∫–∏
**–†–µ—à–µ–Ω–∏–µ**: –î–æ–±–∞–≤–ª–µ–Ω `pointer-events: auto !important` –¥–ª—è –ø–∞–ª–∏—Ç—Ä—ã

### v0.2.3: –ö–ª–∏–∫–∏ –Ω–∞ UI —Å—Ç–∞–≤–∏–ª–∏ –ø–∏–∫—Å–µ–ª–∏
**–ü—Ä–æ–±–ª–µ–º–∞**: –ö–ª–∏–∫–∏ –Ω–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ –ø—Ä–æ—Ö–æ–¥–∏–ª–∏ –¥–æ –∫–∞—Ä—Ç—ã
**–†–µ—à–µ–Ω–∏–µ**: –ü—Ä–æ–≤–µ—Ä–∫–∞ `target.closest()` –∏ `stopPropagation`

### v0.2.2: –ü–∏–∫—Å–µ–ª–∏ —É–≤–µ–ª–∏—á–∏–≤–∞–ª–∏—Å—å –ø—Ä–∏ –æ—Ç–¥–∞–ª–µ–Ω–∏–∏
**–ü—Ä–æ–±–ª–µ–º–∞**: –ù–∞ –º–∞–ª—ã—Ö –∑—É–º–∞—Ö –ø–∏–∫—Å–µ–ª–∏ —Å—Ç–∞–Ω–æ–≤–∏–ª–∏—Å—å –æ–≥—Ä–æ–º–Ω—ã–º–∏
**–†–µ—à–µ–Ω–∏–µ**: –°–∏—Å—Ç–µ–º–∞ –ø–ª–æ—Ç–Ω–æ—Å—Ç–∏ - –ø–æ–∫–∞–∑ —Ç–æ–ª—å–∫–æ –ø–ª–æ—Ç–Ω—ã—Ö –æ–±–ª–∞—Å—Ç–µ–π

### v0.2.1: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ
**–ü—Ä–æ–±–ª–µ–º–∞**: –ü–∏–∫—Å–µ–ª–∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–ª–∏—Å—å –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
**–†–µ—à–µ–Ω–∏–µ**: –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ –ø–æ –∑—É–º–∞–º

### v0.2.0: –ë–µ–ª—ã–π —ç–∫—Ä–∞–Ω –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
**–ü—Ä–æ–±–ª–µ–º–∞**: –¢—É–º–∞–Ω —Ä–µ–Ω–¥–µ—Ä–∏–ª—Å—è –¥–æ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö
**–†–µ—à–µ–Ω–∏–µ**: –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏

## üîß –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```env
# Vercel
KV_REST_API_URL=https://your-redis-url.upstash.io
KV_REST_API_TOKEN=your-token-here
```

## üíª –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –ö–æ–º–∞–Ω–¥—ã
```bash
# –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞
npm run dev

# –î–µ–ø–ª–æ–π (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —á–µ—Ä–µ–∑ GitHub)
git push origin master

# –°–æ–∑–¥–∞–Ω–∏–µ –≤–µ—Ä—Å–∏–∏
git tag -a v0.X.X -m "Version description"
git push origin v0.X.X

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤ Vercel
vercel logs
```

### –í–∞–∂–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
1. **–í—Å–µ–≥–¥–∞ –¥–æ–±–∞–≤–ª—è–π—Ç–µ `pointer-events: auto`** –¥–ª—è –Ω–æ–≤—ã—Ö UI —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ `.ui-container`
2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `stopPropagation()`** –¥–ª—è –≤—Å–µ—Ö –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –∫–ª–∏–∫–æ–≤ UI
3. **–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ `target.closest()`** –≤ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–µ –∫–ª–∏–∫–æ–≤ –∫–∞—Ä—Ç—ã
4. **–¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –Ω–∞ –≤—Å–µ—Ö –∑—É–º–∞—Ö** (2-15) –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è
5. **–°–ª–µ–¥–∏—Ç–µ –∑–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é** –ø—Ä–∏ –±–æ–ª—å—à–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –ø–∏–∫—Å–µ–ª–µ–π
6. **–ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ pipeline** –∫–æ–º–∞–Ω–¥—ã Redis (Upstash –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç)

## üìà –ò—Å—Ç–æ—Ä–∏—è –≤–µ—Ä—Å–∏–π

### v0.2.x - –≠—Ä–∞ —Ü–≤–µ—Ç–Ω—ã—Ö –ø–∏–∫—Å–µ–ª–µ–π
- **v0.2.4** - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –∫–ª–∏–∫–∞–±–µ–ª—å–Ω–æ—Å—Ç—å –ø–∞–ª–∏—Ç—Ä—ã —Ü–≤–µ—Ç–æ–≤
- **v0.2.3** - –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è UI –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π
- **v0.2.2** - –£–º–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –≤–∏–¥–∏–º–æ—Å—Ç–∏ –ø–æ –ø–ª–æ—Ç–Ω–æ—Å—Ç–∏
- **v0.2.1** - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–π –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è
- **v0.2.0** - –ü–æ–ª–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ —Å–∏—Å—Ç–µ–º—É —Ü–≤–µ—Ç–Ω—ã—Ö –ø–∏–∫—Å–µ–ª–µ–π

### v0.1.x - –≠—Ä–∞ —Ç—É–º–∞–Ω–∞ –≤–æ–π–Ω—ã
- **v0.1.1** - –ü–æ—Å–ª–µ–¥–Ω—è—è –≤–µ—Ä—Å–∏—è —Å —Å–∏—Å—Ç–µ–º–æ–π —Ç—É–º–∞–Ω–∞
- **v0.1.0** - –ù–∞—á–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è —Å —Ç—É–º–∞–Ω–æ–º –≤–æ–π–Ω—ã

## üöÄ –ë—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

1. **WebSocket** –¥–ª—è real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
2. **–ê–Ω–∏–º–∞—Ü–∏–∏** —Ä–∞–∑–º–µ—â–µ–Ω–∏—è –ø–∏–∫—Å–µ–ª–µ–π –¥—Ä—É–≥–∏—Ö –∏–≥—Ä–æ–∫–æ–≤
3. **–†–µ–∂–∏–º—ã –∏–≥—Ä—ã** - –∫–æ–º–∞–Ω–¥–Ω—ã–π –∑–∞—Ö–≤–∞—Ç, –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è
4. **–î–æ—Å—Ç–∏–∂–µ–Ω–∏—è** - –∑–∞ –∑–∞—Ö–≤–∞—Ç —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–π
5. **–ò—Å—Ç–æ—Ä–∏—è** - –ø—Ä–æ—Å–º–æ—Ç—Ä –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤–æ –≤—Ä–µ–º–µ–Ω–∏
6. **API –¥–ª—è –±–æ—Ç–æ–≤** - –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —Ä–∏—Å–æ–≤–∞–Ω–∏—è

## üìù –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã

### JavaScript
- `/public/js/battlemap-pixels.js` - –æ—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ (850+ —Å—Ç—Ä–æ–∫)
  - –ö–ª–∞—Å—Å—ã: `PixelBattleMap`
  - –ú–µ—Ç–æ–¥—ã: `renderTile`, `calculatePixelDensity`, `handlePixelPlace`

### API
- `/api/pixels-batch-geo.js` - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å –≥–µ–æ–ª–æ–∫–∞—Ü–∏–µ–π
- `/api/pixels-state.js` - –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è
- –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ 20+ —Å—Ç—Ä–∞–Ω –ø–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º

### –°—Ç–∏–ª–∏
- –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –≤ battlemap-pixels.js
- CSS-in-JS –¥–ª—è –ø–∞–ª–∏—Ç—Ä—ã –∏ —ç—Ñ—Ñ–µ–∫—Ç–æ–≤

## ‚ö†Ô∏è –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

1. **–ú–∞–∫—Å–∏–º—É–º 10000 –ø–∏–∫—Å–µ–ª–µ–π** –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –∑–∞ –∑–∞–ø—Ä–æ—Å (–¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏)
2. **Rate limiting** - 100 –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –º–∏–Ω—É—Ç—É —Å –æ–¥–Ω–æ–≥–æ IP
3. **–ë–∞—Ç—á–∏–Ω–≥** - –º–∞–∫—Å–∏–º—É–º 50 –ø–∏–∫—Å–µ–ª–µ–π –∑–∞ —Ä–∞–∑
4. **Timeline** - —Ö—Ä–∞–Ω–∏—Ç—Å—è —Ç–æ–ª—å–∫–æ 24 —á–∞—Å–∞
5. **–ì–µ–æ–∫–æ–¥–∏–Ω–≥** - —É–ø—Ä–æ—â–µ–Ω–Ω–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å—Ç—Ä–∞–Ω –ø–æ –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫–∞–º

## ü§ù –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:
1. **–ö–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞** - JavaScript –æ—à–∏–±–∫–∏
2. **Network tab** - —Å—Ç–∞—Ç—É—Å API –∑–∞–ø—Ä–æ—Å–æ–≤
3. **Vercel logs** - —Å–µ—Ä–≤–µ—Ä–Ω—ã–µ –æ—à–∏–±–∫–∏
4. **Redis dashboard** - –º–µ—Ç—Ä–∏–∫–∏ Upstash

---

*–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: –î–µ–∫–∞–±—Ä—å 2024*
*–í–µ—Ä—Å–∏—è: 0.2.4 (–¶–≤–µ—Ç–Ω—ã–µ –ø–∏–∫—Å–µ–ª–∏)*
*GitHub: https://github.com/Raw3hape/battlemap-online*
*Live: https://battlemap-online.vercel.app*