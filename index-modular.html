<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>BattleMap Online - –ò–≥—Ä–∞–π —Å –¥—Ä—É–∑—å—è–º–∏</title>
    
    <!-- Favicon -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üó∫Ô∏è</text></svg>">
    
    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    
    <!-- –ù–∞—à–∏ —Å—Ç–∏–ª–∏ -->
    <link rel="stylesheet" href="/public/css/main.css">
</head>
<body>
    <!-- –ö–∞—Ä—Ç–∞ –∏ –∫–∞–Ω–≤–∞—Å—ã -->
    <div id="map"></div>
    <canvas id="fogCanvas"></canvas>
    <canvas id="gridCanvas"></canvas>
    
    <!-- –°–µ–ª–µ–∫—Ç–æ—Ä —Å—Ç–∏–ª—è –∫–∞—Ä—Ç—ã -->
    <div class="map-style-selector">
        <select id="mapStyle" onchange="window.battleMap && window.battleMap.changeMapStyle(this.value)">
            <option value="osm">OpenStreetMap Standard</option>
            <option value="hot">OpenStreetMap HOT</option>
            <option value="topo">OpenTopoMap (—Ç–æ–ø–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∞—è)</option>
            <option value="cycle">CyclOSM (–¥–ª—è –≤–µ–ª–æ—Å–∏–ø–µ–¥–∏—Å—Ç–æ–≤)</option>
            <option value="positron">CartoDB Positron (—Å–≤–µ—Ç–ª–∞—è)</option>
            <option value="dark">CartoDB Dark Matter (—Ç—ë–º–Ω–∞—è)</option>
            <option value="satellite">ESRI World Imagery (—Å–ø—É—Ç–Ω–∏–∫)</option>
            <option value="wikimedia">Wikimedia Maps</option>
        </select>
    </div>
    
    <!-- UI –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä -->
    <div class="ui-container">
        <div class="header">
            <h1>BattleMap Online</h1>
            <p class="subtitle">–†–∞—Å–∫—Ä–æ–π —Ä–µ–∞–ª—å–Ω—É—é –∫–∞—Ä—Ç—É –º–∏—Ä–∞ –≤–º–µ—Å—Ç–µ!</p>
            <p style="font-size: 11px; opacity: 0.5; margin-top: 8px;">
                –õ–ö–ú - —Ä–∞—Å–∫—Ä—ã—Ç—å | Shift+–õ–ö–ú –∏–ª–∏ –ü–ö–ú - –ø–µ—Ä–µ—Ç–∞—â–∏—Ç—å | –ö–æ–ª–µ—Å–æ - –∑—É–º
            </p>
        </div>
        
        <div class="stats">
            <div class="stat-item">
                <span class="stat-label">–†–∞—Å–∫—Ä—ã—Ç–æ –∫–º¬≤</span>
                <span class="stat-value" id="areaRevealed">0</span>
            </div>
            <div class="stat-item">
                <span class="stat-label">–ö–ª–µ—Ç–æ–∫</span>
                <span class="stat-value" id="cellsRevealed">0</span>
            </div>
            <div class="stat-item">
                <span class="stat-label">–†–∞–∑–º–µ—Ä –∫–ª–µ—Ç–∫–∏</span>
                <span class="stat-value" id="cellSize">10 –∫–º</span>
            </div>
        </div>
        
        <div class="controls">
            <button class="control-btn" onclick="window.battleMap && window.battleMap.resetFog()">‚Ü∫</button>
            <button class="control-btn" onclick="window.battleMap && window.battleMap.toggleGrid()">‚äû</button>
            <button class="control-btn" onclick="window.battleMap && window.battleMap.saveProgress()">üíæ</button>
            <button class="control-btn" onclick="window.battleMap && window.battleMap.loadProgress()">üìÇ</button>
        </div>
        
        <div class="info-panel">
            <div style="margin-bottom: 8px;">üìç <span id="currentLocation">-</span></div>
            <div style="margin-bottom: 8px;">üåç –ó—É–º: <span id="zoomLevel">5</span></div>
            <div>üìê –°–µ—Ç–∫–∞: 10√ó10 –∫–º</div>
        </div>
        
        <div class="online-stats">
            <div class="online-stat-item">
                <span class="online-stat-label">üåç –í—Å–µ–≥–æ —Ä–∞—Å–∫—Ä—ã—Ç–æ</span>
                <span class="online-stat-value" id="totalCells">0</span>
            </div>
            <div class="online-stat-item">
                <span class="online-stat-label">üë• –ò–≥—Ä–æ–∫–æ–≤ –æ–Ω–ª–∞–π–Ω</span>
                <span class="online-stat-value" id="onlinePlayers">1</span>
            </div>
        </div>
        
        <div class="top-countries" id="topCountries">
            <h3>üèÜ –¢–æ–ø —Å—Ç—Ä–∞–Ω</h3>
            <div id="countriesList"></div>
        </div>
    </div>
    
    <div class="sync-status" id="syncStatus">–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è...</div>
    
    <!-- Leaflet JS -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    
    <!-- –ù–∞—à –∫–æ–¥ -->
    <script src="/public/js/battlemap.js"></script>
</body>
</html>